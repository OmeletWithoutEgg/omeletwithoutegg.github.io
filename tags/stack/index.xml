<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Stack on 蛋餅的競程隨筆</title><link>https://omeletwithoutegg.github.io/tags/stack/</link><description>Recent content in Stack on 蛋餅的競程隨筆</description><generator>Hugo</generator><language>en-us</language><copyright>Omelet</copyright><lastBuildDate>Fri, 11 Feb 2022 10:03:10 +0800</lastBuildDate><atom:link href="https://omeletwithoutegg.github.io/tags/stack/index.xml" rel="self" type="application/rss+xml"/><item><title>TIOJ 1841</title><link>https://omeletwithoutegg.github.io/2022/02/11/TIOJ-1841/</link><pubDate>Fri, 11 Feb 2022 10:03:10 +0800</pubDate><guid>https://omeletwithoutegg.github.io/2022/02/11/TIOJ-1841/</guid><description>&lt;h1 id="好傳囉-nice-boat">好．傳囉！ Nice Boat！&lt;/h1>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>給定一個長度 $N$ 的整數序列 $A_i$。&lt;br>
如果你可以找出一個區間，他的前綴和每個數字都大於等於0，而且他的後綴和的每個數字也都大於等於0，我們就稱他是安全區間，請你找出最長的安全區間長度是多少。&lt;/p>
&lt;h2 id="solution">Solution&lt;/h2>
&lt;p>考慮原序列的前綴和 $p_i = A_1+A_2+\cdots+A_i$，$p_0=0$，一個區間 $(l, r]$ 是安全區間若且唯若：&lt;/p>
&lt;p>$$&lt;br>
\begin{cases}&lt;br>
\forall l \leq x &amp;lt; r ,&amp;amp; p_r - p_x \geq 0 \\&lt;br>
\forall l &amp;lt; x \leq r ,&amp;amp; p_x - p_l \geq 0 \\&lt;br>
\end{cases}&lt;br>
$$&lt;/p>
&lt;p>也就是說，$p_r$ 和 $p_l$ 分別必須要是這段區間的最大值與最小值。&lt;/p>
&lt;p>可以用單調隊列對於每個 $r$ 求出它左邊第一個嚴格比 $p_r$ 大的數字 $left_r$，以及對於每個 $l$ 求出它右邊第一個嚴格比 $p_l$ 小的數字 $right_l$。&lt;br>
那麼，安全區間的定義又可以寫成&lt;/p>
&lt;p>$$&lt;br>
left_r &amp;lt; l \leq r &amp;lt; right_l&lt;br>
$$&lt;/p></description></item></channel></rss>